var e={icon:null,title:null,message:null,autoclose:null,_type:"",isSupported:function(){var e;return window.webkitNotifications?(e=window.webkitNotifications,this._type="webkit"):window.Notification&&(e=window.Notification,this._type="w3c"),e},log:function(){if(window.console&&console.log){var e=Array.prototype.slice.call(arguments);console.log.apply(console,e)}},request:function(){var e=this.isSupported();this.check()==1&&e.requestPermission()},check:function(){var e=this.isSupported();if(e){if(this._type=="webkit")return e.checkPermission();var t;return e.permission?t=e.permission:t=e.permissionLevel(),t=="granted"?0:t=="default"?1:3}},show:function(e){var t={icon:e.icon||this.icon,title:e.title||this.title,message:e.message||this.message,autoclose:e.autoclose||this.autoclose,onshow:e.onshow||function(){},onclick:e.onclick||function(){},onerror:e.onerror||function(){},onclose:e.onclose||function(){}},n,r,i=this.isSupported();if(!i)return;return this.request(),n=this.check(),n==2&&this
.log("Permission are denied!!"),n==0&&(this._type=="webkit"?(r=i.createNotification(t.icon,t.title,t.message),r.ondisplay=t.onshow):(r=new i(t.title,{body:t.message,icon:t.icon}),r.onshow=t.onshow),r.onclick=t.onclick,r.onerror=t.onerror,r.onclose=t.onclose,this._type=="webkit"&&r.show(),t.autoclose&&setTimeout(function(){r.close?r.close():r.cancel&&r.cancel()},t.autoclose*1e3)),this}};