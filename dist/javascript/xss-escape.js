(function(){"use strict";var e=function(e){return typeof e=="string"},t=function(e){return toString.call(e)==="[object Array]"},n=function(e){return!t(e)&&e instanceof Object},r=function(e){return typeof e=="number"},i=function(e){var t,n,r="";for(t=0;t<e.length;t+=1){n=e.charAt(t);switch(n){case"<":r+="&lt;";break;case">":r+="&gt;";break;case"&":r+="&amp;";break;case"/":r+="&#x2F;";break;case'"':r+="&quot;";break;case"'":r+="&#x27;";break;default:r+=n}}return r},s=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},o=32,u=function(a,f){var l,c,h,p,d=[],v;if(e(a))v=a.length,f==="charForLoopStrategy"?l=i(a):f==="regexStrategy"?l=s(a):v>o?l=s(a):l=i(a);else if(r(a))l=a;else if(t(a)){l=[];for(p=0;p<a.length;p+=1)l.push(u(a[p]))}else if(n(a)){l={};for(h in a)a.hasOwnProperty(h)&&(l[h]=u(a[h]))}return l};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=u),exports.xssEscape=u):this.xssEscape=u}).call(this);