!function(){var a=function(b,c){a.Bind(b,c)};a.Bind=function(b,c){b.on("click",function(){var d=$(".emotion-panel");return 0==d.length?(d=a._CreateEmotionPanel(),d.find("td").on("click",function(){d.hide(60);var a=$(this).children("img").attr("alt");c.val(c.val()+"[#"+a+"]"),c.focus()}),setTimeout(function(){a._ToggleEmotionPanel(d,b)},100)):void a._ToggleEmotionPanel(d,b)})},a.Parse=function(b){for(var c,d=new RegExp("[[]#(.+?)]","gm"),e="",f="";null!=(c=d.exec(b));)e=c[1],void 0!=a.data[e]&&(f="http://s.xiexie.com/static/img/qqface/"+a.data[e],b=b.replace(c[0],'<img src="'+f+'" atl="'+e+'">'));return b},a.path="/img/qqface/",a.data={"微笑":"36.gif","亲亲":"3.gif","流泪":"41.gif","调皮":"44.gif","阴险":"40.gif","大笑":"85.gif","晕倒":"96.gif","白眼":"80.gif","脸红":"75.gif","妩媚":"15.gif","疑问":"1.gif","尴尬":"4.gif","啤酒":"5.gif","吃饭":"6.gif","灯泡":"7.gif","困":"8.gif","抓狂":"9.gif","奋斗":"10.gif",ok:"11.gif","折磨":"12.gif","委屈":"13.gif","嘘":"14.gif","刀":"16.gif","饥饿":"17.gif","闭嘴":"18.gif","爱你":"19.gif","口罩":"20.gif","猪头":"21.gif","难过":"22.gif","鄙视":"23.gif","蛋糕":"24.gif","哈欠":"25.gif"},a._CreateEmotionPanel=function(){var b='<div class="panel panel-default emotion-panel"><div class="panel-body"><table class="table-condensed table-bordered"><tbody>',c=0;for(var d in a.data){0==c&&(b+="<tr>");var e="http://s.xiexie.com/static/img/qqface/"+a.data[d];b+='<td><img src="'+e+'" alt="'+d+'"></td>',c++,8==c&&(b+="</tr>",c=0)}return b+="</tbody></table></div></div>",$("body").append(b),$(".emotion-panel")},a._ToggleEmotionPanel=function(a,b){a.is(":visible")?a.hide(60):(a.css("left",b.offset().left),a.css("top",b.offset().top-a.height()-5),a.show(60))},window.QxEmotion=a}();